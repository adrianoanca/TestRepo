{"openapi":"3.0.3","info":{"title":"EMCIP Swagger API","contact":{},"license":{"name":"Apache License Version 2.0","url":"https://www.apache.org/licenses/"},"version":"1.0"},"servers":[{"url":"http://localhost:8071","description":"Inferred Url"}],"tags":[{"name":"Attachment","description":"Add, remove and download attachments"},{"name":"Occurrence","description":"Occurrence CRUD, validate and search"},{"name":"Taxonomy","description":"Retrieve taxonomy"}],"paths":{"/rest-api/attachment/{attachmentUuid}":{"get":{"tags":["Attachment"],"summary":"Download an attachment","operationId":"downloadUsingGET","parameters":[{"name":"attachmentUuid","in":"path","description":"Uuid of the attachment","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"Downloaded successfully","content":{"application/octet-stream":{"schema":{"type":"object"}}}},"400":{"description":"Attachment not found"},"500":{"description":"Internal server error, contact support"}}},"delete":{"tags":["Attachment"],"summary":"Remove an attachment","operationId":"removeUsingDELETE","parameters":[{"name":"attachmentUuid","in":"path","description":"Uuid of the attachment","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"204":{"description":"Successfully removed","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Attachment not found"},"500":{"description":"Internal server error, contact support"}}}},"/rest-api/attachment/{occurrenceNodeUuid}/{taxonomyAttributeIdCode}":{"post":{"tags":["Attachment"],"summary":"Upload an attachment","operationId":"uploadUsingPOST","parameters":[{"name":"occurrenceNodeUuid","in":"path","description":"Uuid of the parent node for the attachment","required":true,"style":"simple","schema":{"type":"string"}},{"name":"taxonomyAttributeIdCode","in":"path","description":"Id code of the attachment attribute","required":true,"style":"simple","schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","description":"file","format":"binary"}}}}}},"responses":{"201":{"description":"Successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UuidResponse"}}}},"400":{"description":"Validation failed, see validation messages"},"500":{"description":"Internal server error, contact support"}}}},"/rest-api/occurrence":{"post":{"tags":["Occurrence"],"summary":"Create occurrence","operationId":"createUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalOccurrence"}}}},"responses":{"200":{"description":"Successfully created","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UuidResponse"}}}},"400":{"description":"Occurrence is not valid, see validation messages"},"500":{"description":"Internal server error, contact support"}}}},"/rest-api/occurrence/all":{"post":{"tags":["Occurrence"],"summary":"Retrieve all occurrences matching filter","operationId":"getAllUsingPOST","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalOccurrenceFilter"}}}},"responses":{"200":{"description":"Occurrences successfully retrieved","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ExternalOccurrencePreview"}}}}},"400":{"description":"Wrong pagination values"},"500":{"description":"Internal server error, contact support"}}}},"/rest-api/occurrence/{occurrenceUuid}":{"get":{"tags":["Occurrence"],"summary":"Get occurrence","operationId":"getUsingGET","parameters":[{"name":"occurrenceUuid","in":"path","description":"Uuid of the occurrence to be retrieved","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"200":{"description":"Occurrence retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalOccurrence"}}}},"404":{"description":"Occurrence not found"},"500":{"description":"Internal server error, contact support"}}},"put":{"tags":["Occurrence"],"summary":"Update occurrence","operationId":"updateUsingPUT","parameters":[{"name":"occurrenceUuid","in":"path","description":"Uuid of the occurrence to be updated","required":true,"style":"simple","schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExternalOccurrence"}}}},"responses":{"200":{"description":"Successfully updated","content":{"application/json":{"schema":{"type":"object"}}}},"400":{"description":"Occurrence is not valid, see validation messages"},"404":{"description":"Occurrence not found"},"500":{"description":"Internal server error, contact support"}}},"delete":{"tags":["Occurrence"],"summary":"Remove occurrence","operationId":"deleteUsingDELETE","parameters":[{"name":"occurrenceUuid","in":"path","description":"Uuid of the occurrence to be removed","required":true,"style":"simple","schema":{"type":"string"}}],"responses":{"204":{"description":"Successfully removed","content":{"application/json":{"schema":{"type":"object"}}}},"404":{"description":"Occurrence not found"},"500":{"description":"Internal server error, contact support"}}}},"/rest-api/taxonomy":{"get":{"tags":["Taxonomy"],"summary":"Get taxonomy","operationId":"exportJSONUsingGET","responses":{"200":{"description":"Taxonomy successfully retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TaxonomyData"}}}},"500":{"description":"Internal server error, contact support"}}}}},"components":{"schemas":{"ExportableAttributeCodeList":{"title":"ExportableAttributeCodeList","required":["exportableAttributeCodeListId"],"type":"object","properties":{"exportableAttributeCodeListId":{"$ref":"#/components/schemas/ExportableAttributeCodeListId"}}},"ExportableAttributeCodeListId":{"title":"ExportableAttributeCodeListId","type":"object","properties":{"taxonomyAttributeUuid":{"type":"string"},"taxonomyCodesListUuid":{"type":"string"}}},"ExportableTaxonomyAttribute":{"title":"ExportableTaxonomyAttribute","required":["dataType","description","entityKeyAttribute","explanation","idCode","maxInstances","minInstances","name","predefined","systemDependency","taxonomyEntityUuid","uuid","validationExpression"],"type":"object","properties":{"dataType":{"type":"string"},"description":{"type":"string"},"entityKeyAttribute":{"type":"boolean"},"explanation":{"type":"string"},"idCode":{"type":"string"},"maxInstances":{"type":"integer","format":"int32"},"minInstances":{"type":"integer","format":"int32"},"name":{"type":"string"},"predefined":{"type":"boolean"},"systemDependency":{"type":"boolean"},"taxonomyEntityUuid":{"type":"string"},"uuid":{"type":"string"},"validationExpression":{"type":"string"}}},"ExportableTaxonomyCode":{"title":"ExportableTaxonomyCode","required":["codesListUuid","description","explanation","idCode","name","parentUuid","uuid"],"type":"object","properties":{"codesListUuid":{"type":"string"},"description":{"type":"string"},"explanation":{"type":"string"},"idCode":{"type":"string"},"name":{"type":"string"},"parentUuid":{"type":"string"},"uuid":{"type":"string"}}},"ExportableTaxonomyCodesList":{"title":"ExportableTaxonomyCodesList","required":["description","idCode","name","uuid"],"type":"object","properties":{"description":{"type":"string"},"idCode":{"type":"string"},"name":{"type":"string"},"uuid":{"type":"string"}}},"ExportableTaxonomyEntity":{"title":"ExportableTaxonomyEntity","required":["description","explanation","idCode","maxInstances","minInstances","movable","name","removable","systemDependency","uuid"],"type":"object","properties":{"description":{"type":"string"},"explanation":{"type":"string"},"idCode":{"type":"string"},"maxInstances":{"type":"integer","format":"int32"},"minInstances":{"type":"integer","format":"int32"},"movable":{"type":"boolean"},"name":{"type":"string"},"parentUuid":{"type":"string"},"removable":{"type":"boolean"},"systemDependency":{"type":"boolean"},"uuid":{"type":"string"}}},"ExternalAttribute":{"title":"ExternalAttribute","required":["nodeUuid","taxonomyAttributeIdCode","value"],"type":"object","properties":{"nodeUuid":{"type":"string","description":"Uuid of parent node","example":"af505003-7be3-4067-adca-d32d1ec0fafb"},"taxonomyAttributeIdCode":{"type":"string","description":"Id code of taxonomy attribute","example":"TA-1"},"taxonomyCodeIdCode":{"type":"string","description":"Taxonomy code id code","example":"TA-1-TCL-TC-40"},"value":{"type":"string","description":"Value of attribute","example":"Austria"}}},"ExternalNode":{"title":"ExternalNode","required":["parentUuid","taxonomyEntityIdCode","uuid"],"type":"object","properties":{"parentUuid":{"type":"string","description":"Uuid of parent node","example":"af505003-7be3-4067-adca-d32d1ec0fafb"},"taxonomyEntityIdCode":{"type":"string","description":"Id code of taxonomy entity","example":"TE-28"},"uuid":{"type":"string","description":"Uuid of node","example":"af505003-7be3-4067-adca-d32d1ec0fafb"}}},"ExternalOccurrence":{"title":"ExternalOccurrence","required":["attributes","nodes"],"type":"object","properties":{"attributes":{"type":"array","description":"Collection of occurrence attributes","items":{"$ref":"#/components/schemas/ExternalAttribute"}},"nodes":{"type":"array","description":"Collection of occurrence nodes","items":{"$ref":"#/components/schemas/ExternalNode"}}}},"ExternalOccurrenceFilter":{"title":"ExternalOccurrenceFilter","type":"object","properties":{"coastalStatesAff":{"type":"array","description":"Coastal states affected","example":"[\"cape verde\", \"angola\"]","items":{"type":"string"}},"competentAuthority":{"type":"string","description":"Competent authority","example":"MAIB"},"dateEnteredEnd":{"type":"string","description":"Date entered end date","example":"2021-01-14"},"dateEnteredStart":{"type":"string","description":"Date entered start date","example":"2021-01-10"},"dateOfNotificationEnd":{"type":"string","description":"Date of notification end date","example":"2021-02-14"},"dateOfNotificationStart":{"type":"string","description":"Date of notification start date","example":"2020-11-12"},"dateOfOccurrenceEnd":{"type":"string","description":"Date of occurrence end date","example":"2021-01-14"},"dateOfOccurrenceStart":{"type":"string","description":"Date of occurrence start date","example":"2020-12-31"},"flagStates":{"type":"array","description":"Flag states","example":"[\"aruba\", \"chile\"]","items":{"type":"string"}},"investigatingState":{"type":"string","description":"Investigating state","example":"china"},"investigationStatus":{"type":"string","description":"Investigation status","example":"ongoing"},"occurrenceSeverity":{"type":"string","description":"Occurrence severity","example":"Marine incident"},"otherIntStates":{"type":"array","description":"Other interested states","example":"[\"algeria\", \"albania\"]","items":{"type":"string"}},"pageIndex":{"type":"integer","description":"Page index, default = 0","format":"int32","example":7},"pageSize":{"type":"integer","description":"Page size (max. 500), default size = 100","format":"int32","example":250},"stateReporting":{"type":"string","description":"State reporting","example":"estonia"},"workflowStatus":{"type":"string","description":"Workflow status","example":"To be reviewed"}}},"ExternalOccurrencePreview":{"title":"ExternalOccurrencePreview","type":"object","properties":{"casualtyReportNr":{"type":"string","description":"Casualty report nr.","example":"2020/001085"},"coastalStatesAff":{"type":"array","description":"Coastal states affected","example":"[\"cape verde\", \"angola\"]","items":{"type":"string"}},"competentAuthority":{"type":"string","description":"Competent authority","example":"MAIB"},"dateEntered":{"type":"string","description":"Date entered end date","format":"date-time"},"dateOfNotification":{"type":"string","description":"Date entered end date","format":"date-time"},"dateOfOccurrence":{"type":"string","description":"Date entered end date","format":"date-time"},"flagState":{"type":"array","description":"Flag states","example":"[\"aruba\", \"chile\"]","items":{"type":"string"}},"investigatingState":{"type":"string","description":"Investigating state","example":"china"},"investigationStatus":{"type":"string","description":"Investigation status","example":"ongoing"},"occurrenceSeverity":{"type":"string","description":"Occurrence severity","example":"Marine incident"},"otherIntStates":{"type":"array","description":"Other interested states","example":"[\"algeria\", \"albania\"]","items":{"type":"string"}},"stateReporting":{"type":"string","description":"State reporting","example":"estonia"},"uuid":{"type":"string","description":"Uuid","example":"b518883c-b621-4112-a72f-7e1f58cf411a"},"workflowStatus":{"type":"string","description":"Workflow status","example":"To be reviewed"}}},"TaxonomyData":{"title":"TaxonomyData","type":"object","properties":{"entities":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ExportableTaxonomyEntity"}},"taxonomyAttributeCodeList":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ExportableAttributeCodeList"}},"taxonomyAttributes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ExportableTaxonomyAttribute"}},"taxonomyCodes":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ExportableTaxonomyCode"}},"taxonomyCodesLists":{"uniqueItems":true,"type":"array","items":{"$ref":"#/components/schemas/ExportableTaxonomyCodesList"}}}},"UuidResponse":{"title":"UuidResponse","type":"object","properties":{"uuid":{"type":"string","description":"Uuid of created resource","example":"af505003-7be3-4067-adca-d32d1ec0fafb"}}}}}}